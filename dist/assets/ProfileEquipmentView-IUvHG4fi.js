import{_ as m}from"./SGSButton.vue_vue_type_script_setup_true_lang-DKyS58sl.js";import{S as d}from"./SGSDivider-DyRYqtnG.js";import{_ as i}from"./SGSInput.vue_vue_type_script_setup_true_lang-BoS-uIOy.js";import{R as s}from"./Response-TKM2zK-M.js";import{_ as D}from"./DefaultLayout.vue_vue_type_script_setup_true_lang-Dd1Sk2hy.js";import{_ as q}from"./FormLayout.vue_vue_type_script_setup_true_lang-rKUDI00G.js";import{d as E,u as k,E as $,r as t,o as x,i as L,w as c,e as N,f as u,b as o,c as f,a as R}from"./index-sOqKN4X3.js";const S={key:0},B={key:1},V={class:"flex flex-row gap-3"},A=E({__name:"ProfileEquipmentView",setup(F){const l=k().request,r=$().params.id,p=N(),_=t({isDisabled:!0,isEmpty:!1}),h=t({isDisabled:!0,isEmpty:!1}),b=t({isDisabled:!0,isEmpty:!1}),n=t({notFound:!1,isLoading:!0}),v=t({isDisabled:!1,isLoading:!1}),g=t({isDisabled:!1,isLoading:!1}),a=t({}),y=async()=>{await l.get(`/aparelho/${r}`).then(e=>{e.status?a.value=e.list:n.value.notFound=!0}).finally(()=>{n.value.isLoading=!1})},w=async()=>{await l.update(`/aparelho/${r}`,a.value).then(e=>{if(e.status)s.show("success","success");else throw new Error}).catch(e=>{s.show("error","update-os-error"),console.log("Erro")})},C=async()=>{await l.destroy(`/aparelho/${r}`).then(e=>{e.status?s.show("success",e.messageCode):s.show("error",e.messageCode)}).finally(()=>{setTimeout(()=>p.push("/equipment/list"),2)})};return x(()=>{Promise.all([y()]).catch(e=>{console.log("Erro ao buscar dados de api....")})}),(e,G)=>(u(),L(D,null,{default:c(()=>[o(q,{title:"profile-equipment",push:{label:"list-equipment",to:"/equipment/list"}},{body:c(()=>[n.value.isLoading?(u(),f("div",S,"loading ...")):(u(),f("div",B,[o(i,{label:"number",reference:a.value,referenceName:"numero_serie",controller:_.value},null,8,["reference","controller"]),o(d),o(i,{label:"name",reference:a.value,referenceName:"nome",controller:h.value},null,8,["reference","controller"]),o(d),o(i,{label:"type",reference:a.value,referenceName:"tipo",controller:b.value},null,8,["reference","controller"])]))]),handler:c(()=>[R("div",V,[o(m,{onClick:w,label:"update",controller:v.value},null,8,["controller"]),o(m,{onClick:C,label:"delete",controller:g.value,overlayClass:"bg-slate-700"},null,8,["controller"])])]),_:1})]),_:1}))}});export{A as default};
