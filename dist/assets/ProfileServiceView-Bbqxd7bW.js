import{_ as u}from"./SGSButton.vue_vue_type_script_setup_true_lang-C_9F_a-p.js";import{S as d}from"./SGSDivider-CUtS6Yak.js";import{_ as C}from"./SGSInput.vue_vue_type_script_setup_true_lang-CcE_Ue-L.js";import{_ as D}from"./SGSMoneyInput.vue_vue_type_script_setup_true_lang-6Q4m-YsG.js";import{R as t}from"./Response-CbK6wia3.js";import{_ as $}from"./DefaultLayout.vue_vue_type_script_setup_true_lang-BRCX2MGL.js";import{_ as k}from"./FormLayout.vue_vue_type_script_setup_true_lang-CGibbbih.js";import{d as E,u as x,E as S,r as o,o as L,i as N,w as n,e as R,f as c,b as a,c as f,j as B,t as V,a as q}from"./index-BNyOiFiL.js";const F={key:0},G={key:1},M={class:"flex flex-row gap-3"},O=E({__name:"ProfileServiceView",setup(P){const r=x().request,l=S().params.id,m=R(),p=o({isDisabled:!0,isEmpty:!1}),_=o({isDisabled:!0,isEmpty:!1});o({isDisabled:!0,isEmpty:!1});const i=o({notFound:!1,isLoading:!0}),v=o({isDisabled:!1,isLoading:!1}),b=o({isDisabled:!1,isLoading:!1}),s=o({}),h=async()=>{await r.get(`/servico/${l}`).then(e=>{e.status?s.value=e.list:i.value.notFound=!0}).finally(()=>{i.value.isLoading=!1})},g=()=>{s.value.preco=s.value.preco.substring(3)},y=async()=>{g(),await r.update(`/servico/${l}`,s.value).then(e=>{if(console.log(e),e.status)t.show("success","success");else throw new Error}).catch(e=>{t.show("error","update-os-error")})},w=async()=>{await r.destroy(`/servico/${l}`).then(e=>{e.status?t.show("success",e.messageCode):t.show("error",e.messageCode)}).finally(()=>{setTimeout(()=>m.push("/service/list"),2)})};return L(()=>{Promise.all([h()]).catch(e=>{console.log("Erro ao buscar dados de api....")})}),(e,T)=>(c(),N($,null,{default:n(()=>[a(k,{title:"profile-service",push:{label:"list-service",to:"/service/list"}},{body:n(()=>[i.value.isLoading?(c(),f("div",F,"loading ...")):(c(),f("div",G,[B(V(s.value)+" ",1),a(C,{label:"description",reference:s.value,referenceName:"descricao",controller:p.value},null,8,["reference","controller"]),a(d),a(D,{label:"price",reference:s.value,referenceName:"preco",controller:_.value},null,8,["reference","controller"]),a(d)]))]),handler:n(()=>[q("div",M,[a(u,{onClick:y,label:"update",controller:v.value},null,8,["controller"]),a(u,{onClick:w,label:"delete",controller:b.value,overlayClass:"bg-slate-700"},null,8,["controller"])])]),_:1})]),_:1}))}});export{O as default};
