import{d as g,u as _,r as s,T as t,o as x,i as w,w as u,e as b,f as C,b as d,h as f}from"./index-DlXReHYW.js";import{R as l}from"./Response-Degt4AJ1.js";import{_ as L}from"./DefaultLayout.vue_vue_type_script_setup_true_lang-CMILcdRT.js";import{_ as q}from"./SGSTable.vue_vue_type_script_setup_true_lang-Btn_6s8H.js";import{_ as v}from"./FormLayout.vue_vue_type_script_setup_true_lang-2C9QneGZ.js";import"./style-Gbs5m0IT.js";import"./SGSInput.vue_vue_type_script_setup_true_lang-B8Bwi16F.js";import"./SGSDivider-Bofd5NDC.js";const A=g({__name:"ListEquipmentView",setup(y){const m=b(),r=_().request,o=s({isLoading:!1}),c=s([{field:"id",title:"#",headerClass:"flex flex-row gap-1 font-bold uppercase"},{field:"nome",title:t.to("name"),headerClass:"flex flex-row gap-1 font-bold uppercase"},{field:"tipo",title:t.to("type"),headerClass:"flex flex-row gap-1 font-bold uppercase"},{field:"cliente_nome",title:t.to("client"),headerClass:"flex flex-row gap-1 font-bold uppercase"},{field:"actions",title:t.to("actions"),headerClass:"flex flex-row gap-1 font-bold uppercase"}]),i=s([]),n=async()=>{o.value.isLoading=!0,await r.get("/aparelho").then(a=>{a.status&&(i.value=a.list)}).finally(()=>{o.value.isLoading=!1})},h=async a=>{await r.destroy(`/aparelho/${a}`).then(e=>{e.status?(n(),l.show("success",e.messageCode)):l.show("error",e.messageCode)})};return x(()=>{Promise.all([n()]).catch(a=>{console.log("Erro em buscar dados da api")})}),(a,e)=>(C(),w(L,null,{default:u(()=>[d(v,{onHelper:e[1]||(e[1]=p=>f(l).helperList()),title:"equipment",push:{label:"create-equipment",to:"/equipment/create"}},{body:u(()=>[d(q,{isLoading:o.value.isLoading,result:i.value,header:c.value,onEditData:e[0]||(e[0]=p=>f(m).push(`/equipment/${p}`)),onDeleteData:h},null,8,["isLoading","result","header"])]),_:1})]),_:1}))}});export{A as default};
