import{_ as v}from"./SGSButton.vue_vue_type_script_setup_true_lang-C_9F_a-p.js";import{S as X}from"./SGSAddress-D1d9U_WI.js";import{S as i}from"./SGSDivider-CUtS6Yak.js";import{_ as o}from"./SGSInput.vue_vue_type_script_setup_true_lang-CcE_Ue-L.js";import{R as u}from"./Response-CbK6wia3.js";import{_ as B}from"./DefaultLayout.vue_vue_type_script_setup_true_lang-BRCX2MGL.js";import{_ as R}from"./FormLayout.vue_vue_type_script_setup_true_lang-CGibbbih.js";import{d as V,u as G,E as F,r as l,o as I,i as c,w as n,f as t,c as M,b as r,k as f,a as O,I as P}from"./index-BNyOiFiL.js";const A={key:0},T={class:"flex flex-row gap-3"},ee=V({__name:"ProfileClientView",setup(U){const m=G().request,d=F().params.id,p=l({isLoading:!0,notFound:!1}),b=l({isEmpty:!1,isDisabled:!1}),_=l({isEmpty:!1,isDisabled:!1}),y=l({isEmpty:!1,isDisabled:!1}),C=l({isEmpty:!1,isDisabled:!1}),g=l({isEmpty:!1,isDisabled:!1}),D=l({isEmpty:!1,isDisabled:!1}),k=l({isDisabled:!1,isEmpty:!1}),E=l({isDisabled:!1,isEmpty:!1}),h=l({isDisabled:!1,isEmpty:!1}),N=l({isDisabled:!1,isEmpty:!1}),w=l({isDisabled:!1,isEmpty:!1}),q=l({isDisabled:!1,isLoading:!1}),S=l({isDisabled:!1,isLoading:!1}),e=l({}),$=async()=>{await m.get(`/cliente/${d}`).then(a=>{a.status?e.value=a.list.cliente:p.value.notFound=!0}).finally(()=>{p.value.isLoading=!1})},j=async()=>{const a=Object.fromEntries(Object.entries(e.value).filter(([s,x])=>x!=null));await m.update(`/cliente/${d}`,a).then(s=>{if(console.log(s),s.status)u.show("success","success");else throw new Error}).catch(s=>{u.show("error","update-os-error")})},L=async()=>{await m.destroy(`/cliente/${d}`).then(a=>{a.status?u.show("success",a.messageCode):u.show("error",a.messageCode)}).finally(()=>{setTimeout(()=>P.push("/service-order/list"),2)})};return I(()=>{Promise.all([$()]).catch(a=>{console.log("Error on retrieving data")})}),(a,s)=>(t(),c(B,null,{default:n(()=>[p.value.isLoading?(t(),M("div",A,"Loading.....")):(t(),c(R,{key:1,title:"client",push:{label:"list-client",to:"/client/list"}},{body:n(()=>[r(o,{label:"name",required:"",reference:e.value,referenceName:"nome",controller:b.value},null,8,["reference","controller"]),r(i),r(o,{label:"phone",mask:"(##)#####-####",required:"",reference:e.value,referenceName:"telefone",controller:w.value},null,8,["reference","controller"]),r(i),r(o,{mask:"#####-###",label:"cep",required:"",reference:e.value,referenceName:"cep",controller:y.value},null,8,["reference","controller"]),r(X,null,{cep:n(()=>s[0]||(s[0]=[])),logradouro:n(()=>[r(o,{label:"logradouro",required:"",reference:e.value,referenceName:"logradouro",controller:_.value},null,8,["reference","controller"])]),numero:n(()=>[r(o,{label:"number",mask:"XXXXX",required:"",reference:e.value,referenceName:"numero",controller:g.value},null,8,["reference","controller"])]),complemento:n(()=>[r(o,{label:"complement",reference:e.value,referenceName:"complemento",controller:C.value},null,8,["reference","controller"])]),cidade:n(()=>[r(o,{label:"city",controller:D.value,reference:e.value,referenceName:"cidade",required:""},null,8,["controller","reference"])]),_:1}),r(i),e.value.cpf?(t(),c(o,{key:0,label:"cpf",mask:"###.###.###-##",reference:e.value,referenceName:"cpf",controller:k.value},null,8,["reference","controller"])):f("",!0),e.value.cnpj?(t(),c(o,{key:1,label:"cnpj",mask:"##.###.###/####-##",reference:e.value,referenceName:"cnpj",controller:E.value},null,8,["reference","controller"])):f("",!0),r(i),e.value.inscricao_estadual?(t(),c(o,{key:2,label:"state-register",mask:"###############",reference:e.value,referenceName:"inscricao_estadual",controller:h.value},null,8,["reference","controller"])):f("",!0),r(i),e.value.inscricao_municipal?(t(),c(o,{key:3,label:"local-register",mask:"###############",reference:e.value,referenceName:"inscricao_municipal",controller:N.value},null,8,["reference","controller"])):f("",!0)]),handler:n(()=>[O("div",T,[r(v,{onClick:j,label:"update",controller:q.value},null,8,["controller"]),r(v,{onClick:L,label:"delete",controller:S.value,overlayClass:"bg-slate-700"},null,8,["controller"])])]),_:1}))]),_:1}))}});export{ee as default};
