import{d as _,u as g,r as t,T as i,o as h,i as y,w as n,e as w,f as b,b as u,h as x}from"./index-CtdWVGE4.js";import{R as p}from"./Response-Cdpp2_KF.js";import{_ as C}from"./DefaultLayout.vue_vue_type_script_setup_true_lang-3w5KMU_p.js";import{_ as L}from"./SGSTable.vue_vue_type_script_setup_true_lang-Bma2mQYQ.js";import{_ as v}from"./FormLayout.vue_vue_type_script_setup_true_lang-Du2JUmel.js";import"./style-CxYqEFSA.js";import"./SGSInput.vue_vue_type_script_setup_true_lang-BSDmowQH.js";import"./SGSDivider-Cdrz1sw5.js";const V=_({__name:"ListUserTypeView",setup(D){const d=w(),o=g().request,s=t({isLoading:!1}),f=t([{field:"id",title:"#",headerClass:"flex flex-row gap-1 font-bold uppercase"},{field:"nome",title:i.to("name"),headerClass:"flex flex-row gap-1 font-bold uppercase"},{field:"actions",title:i.to("actions"),headerClass:"flex flex-row gap-1 font-bold uppercase"}]),r=t([]),l=async()=>{s.value.isLoading=!0,await o.get("/tipo-usuario").then(e=>{e.status&&(r.value=e.list)}).finally(()=>{s.value.isLoading=!1})},c=async e=>{await o.destroy(`/tipo-usuario/${e}`).then(a=>{a.status?(l(),p.show("success",a.messageCode)):p.show("error",a.messageCode)})};return h(()=>{Promise.all([l()]).catch(e=>{console.log("Erro em buscar dados da api")})}),(e,a)=>(b(),y(C,null,{default:n(()=>[u(v,{title:"user-type",push:{label:"create-user-type",to:"/user/type/create"}},{body:n(()=>[u(L,{isLoading:s.value.isLoading,result:r.value,header:f.value,onEditData:a[0]||(a[0]=m=>x(d).push(`/user/type/${m}`)),onDeleteData:c},null,8,["isLoading","result","header"])]),_:1})]),_:1}))}});export{V as default};
