import{_}from"./SGSButton.vue_vue_type_script_setup_true_lang-TC2PI5U5.js";import{S as X}from"./SGSAddress-D1z3wdBG.js";import{S as i}from"./SGSDivider-DtGz0GqX.js";import{_ as a}from"./SGSInput.vue_vue_type_script_setup_true_lang-CmQpmTuy.js";import{R as u,a as B}from"./Response-CeNjMucE.js";import{_ as R}from"./DefaultLayout.vue_vue_type_script_setup_true_lang-DbfjE3bo.js";import{_ as G}from"./FormLayout.vue_vue_type_script_setup_true_lang-C1zYCnRE.js";import{d as I,u as P,E as F,r as l,o as M,i as c,w as t,f as n,c as O,a as v,b as r,k as f,I as A}from"./index-DcHHFHWs.js";const T={key:0},U={class:"flex-row"},z={class:"flex-row"},H={class:"flex flex-row gap-3"},J=I({__name:"ProfileClientView",setup(K){const d=P().request,m=F().params.id,p=l({isLoading:!0,notFound:!1}),b=l({isEmpty:!1,isDisabled:!1}),h=l({isEmpty:!1,isDisabled:!1}),y=l({isEmpty:!1,isDisabled:!1}),C=l({isEmpty:!1,isDisabled:!1}),w=l({isEmpty:!1,isDisabled:!1}),g=l({isEmpty:!1,isDisabled:!1}),D=l({isDisabled:!1,isEmpty:!1}),k=l({isDisabled:!1,isEmpty:!1}),E=l({isDisabled:!1,isEmpty:!1}),N=l({isDisabled:!1,isEmpty:!1}),q=l({isDisabled:!1,isEmpty:!1}),x=l({isDisabled:!1,isLoading:!1}),S=l({isDisabled:!1,isLoading:!1}),e=l({}),$=async()=>{await d.get(`/cliente/${m}`).then(s=>{s.status?e.value=s.list.cliente:p.value.notFound=!0}).finally(()=>{p.value.isLoading=!1})},j=async()=>{const s=Object.fromEntries(Object.entries(e.value).filter(([o,V])=>V!=null));await d.update(`/cliente/${m}`,s).then(o=>{if(console.log(o),o.status)u.show("success","success");else throw new Error}).catch(o=>{u.show("error","update-os-error")})},L=async()=>{await d.destroy(`/cliente/${m}`).then(s=>{s.status?u.show("success",s.messageCode):u.show("error",s.messageCode)}).finally(()=>{setTimeout(()=>A.push("/service-order/list"),2)})};return M(()=>{Promise.all([$()]).catch(s=>{console.log("Error on retrieving data")})}),(s,o)=>(n(),c(R,null,{default:t(()=>[p.value.isLoading?(n(),O("div",T,"Loading.....")):(n(),c(G,{key:1,title:"client",push:{label:"list-client",to:"/client/list"}},{body:t(()=>[v("div",U,[r(a,{class:"small-width",label:"name",required:"",reference:e.value,referenceName:"nome",controller:b.value},null,8,["reference","controller"]),r(i),r(a,{class:"small-width2",label:"phone",mask:"(##)#####-####",required:"",reference:e.value,referenceName:"telefone",controller:q.value},null,8,["reference","controller"]),r(i),r(a,{class:"small-width2",mask:"#####-###",label:"cep",required:"",reference:e.value,referenceName:"cep",controller:y.value},null,8,["reference","controller"])]),r(X,null,{cep:t(()=>o[0]||(o[0]=[])),logradouro:t(()=>[r(a,{class:"small-width3",label:"logradouro",required:"",reference:e.value,referenceName:"logradouro",controller:h.value},null,8,["reference","controller"])]),numero:t(()=>[r(a,{class:"small-width2",label:"number",mask:"XXXXX",required:"",reference:e.value,referenceName:"numero",controller:w.value},null,8,["reference","controller"])]),cidade:t(()=>[r(a,{class:"small-width3",label:"city",controller:g.value,reference:e.value,referenceName:"cidade",required:""},null,8,["controller","reference"])]),_:1}),r(i),v("div",z,[r(a,{class:"small-width4",label:"complement",reference:e.value,referenceName:"complemento",controller:C.value},null,8,["reference","controller"]),e.value.cpf?(n(),c(a,{key:0,label:"cpf",mask:"###.###.###-##",reference:e.value,referenceName:"cpf",controller:D.value,required:""},null,8,["reference","controller"])):f("",!0),e.value.cnpj?(n(),c(a,{key:1,class:"small-width3",label:"cnpj",mask:"##.###.###/####-##",reference:e.value,referenceName:"cnpj",controller:k.value},null,8,["reference","controller"])):f("",!0),r(i)]),e.value.inscricao_estadual?(n(),c(a,{key:0,label:"state-register",mask:"###############",reference:e.value,referenceName:"inscricao_estadual",controller:E.value},null,8,["reference","controller"])):f("",!0),r(i),e.value.inscricao_municipal?(n(),c(a,{key:1,label:"local-register",mask:"###############",reference:e.value,referenceName:"inscricao_municipal",controller:N.value},null,8,["reference","controller"])):f("",!0)]),handler:t(()=>[v("div",H,[r(_,{onClick:j,label:"update",controller:x.value},null,8,["controller"]),r(_,{onClick:L,label:"delete",controller:S.value,overlayClass:"bg-slate-700"},null,8,["controller"])])]),_:1}))]),_:1}))}}),se=B(J,[["__scopeId","data-v-45f64160"]]);export{se as default};
