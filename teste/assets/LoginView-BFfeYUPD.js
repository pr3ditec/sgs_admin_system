import{_}from"./SGSButton.vue_vue_type_script_setup_true_lang-DvxYfA5O.js";import{_ as b}from"./SGSInput.vue_vue_type_script_setup_true_lang-BSDmowQH.js";import{_ as g}from"./SGSPassword.vue_vue_type_script_setup_true_lang-BMIfVsje.js";import{R as n,_ as h}from"./Response-Cdpp2_KF.js";import{b as x,a as i,c as w,v as k,d as C}from"./Validator-BLuEWHG9.js";import{d as y,u as D,r as t,o as S,c as E,a as l,b as r,e as L,L as d,f as V}from"./index-CtdWVGE4.js";const q={class:"flex flex-row"},N={class:"flex flex-col bg-slate-800 dark:bg-slate-900 w-1/2 h-screen items-center justify-center"},P={class:"flex flex-col gap-4 bg-slate-100 p-4 w-1/2 h-screen justify-center dark:bg-slate-800"},H=y({__name:"LoginView",setup($){const c=D().request,p=L(),o=t({isLoading:!1,isDisabled:!1}),u=t({isEmpty:!1,isDisabled:!1}),f=t({isEmpty:!1,isDisabled:!1,isShort:!1}),s=t({email:"",senha:""}),v=()=>{const e=k(u.value,s.value.email),a=C(f.value,s.value.senha);return e&&a},m=async()=>{if(i(o.value,!0),!v())return i(o.value,!1);await c.store("/login",s.value).then(e=>{console.log(e),e.status?(c.setToken(e.list.login.token),d.storeToken(e.list.login.token),d.storeUser(e.list.usuario),n.show("success",e.messageCode),p.push("/dashboard")):n.show("error",e.messageCode)}).catch(e=>{n.show("error","unexpected-error")}).finally(()=>{i(o.value,!1),w(s.value)})};return S(()=>{x("Enter",m)}),(e,a)=>(V(),E("main",q,[l("div",N,[r(h,{w:"350",h:"300"})]),l("div",P,[a[0]||(a[0]=l("h3",{class:"text-2xl font-bold text-slate-800 dark:text-slate-400 mb-5"},"Entrar no SGS",-1)),r(b,{label:"email",required:"",reference:s.value,referenceName:"email",controller:u.value},null,8,["reference","controller"]),r(g,{label:"password",required:"",reference:s.value,referenceName:"senha",controller:f.value},null,8,["reference","controller"]),r(_,{onClick:m,label:"sign-in",controller:o.value,class:"w-32 h-10 text-sm"},null,8,["controller"]),a[1]||(a[1]=l("div",{class:"flex flex-col mx-auto mt-3 gap-2"},[l("p",{class:"mt-9"},"Todos os direitos reservados"),l("p",{class:"ml-15"},"SGS - 2024")],-1))])]))}});export{H as default};
