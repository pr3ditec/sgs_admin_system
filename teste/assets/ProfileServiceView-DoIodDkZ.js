import{_ as u}from"./SGSButton.vue_vue_type_script_setup_true_lang-DvxYfA5O.js";import{S as d}from"./SGSDivider-Cdrz1sw5.js";import{_ as C}from"./SGSInput.vue_vue_type_script_setup_true_lang-BSDmowQH.js";import{_ as D}from"./SGSMoneyInput.vue_vue_type_script_setup_true_lang-CeiSDVbL.js";import{R as r}from"./Response-Cdpp2_KF.js";import{_ as $}from"./DefaultLayout.vue_vue_type_script_setup_true_lang-3w5KMU_p.js";import{_ as k}from"./FormLayout.vue_vue_type_script_setup_true_lang-Du2JUmel.js";import{d as E,u as x,E as L,r as s,o as R,i as S,w as n,e as B,f as c,b as o,c as f,a as N}from"./index-CtdWVGE4.js";const V={key:0},q={key:1},F={class:"flex flex-row gap-3"},J=E({__name:"ProfileServiceView",setup(G){const t=x().request,l=L().params.id,m=B(),p=s({isDisabled:!0,isEmpty:!1}),_=s({isDisabled:!0,isEmpty:!1});s({isDisabled:!0,isEmpty:!1});const i=s({notFound:!1,isLoading:!0}),v=s({isDisabled:!1,isLoading:!1}),b=s({isDisabled:!1,isLoading:!1}),a=s({}),h=async()=>{await t.get(`/servico/${l}`).then(e=>{e.status?a.value=e.list:i.value.notFound=!0}).finally(()=>{i.value.isLoading=!1})},g=()=>{a.value.preco=a.value.preco.substring(3)},y=async()=>{g(),await t.update(`/servico/${l}`,a.value).then(e=>{if(console.log(e),e.status)r.show("success","success");else throw new Error}).catch(e=>{r.show("error","update-os-error")})},w=async()=>{await t.destroy(`/servico/${l}`).then(e=>{e.status?r.show("success",e.messageCode):r.show("error",e.messageCode)}).finally(()=>{setTimeout(()=>m.push("/service/list"),2)})};return R(()=>{Promise.all([h()]).catch(e=>{console.log("Erro ao buscar dados de api....")})}),(e,M)=>(c(),S($,null,{default:n(()=>[o(k,{title:"profile-service",push:{label:"list-service",to:"/service/list"}},{body:n(()=>[i.value.isLoading?(c(),f("div",V,"loading ...")):(c(),f("div",q,[o(C,{label:"description",reference:a.value,referenceName:"descricao",controller:p.value},null,8,["reference","controller"]),o(d),o(D,{label:"price",reference:a.value,referenceName:"preco",controller:_.value},null,8,["reference","controller"]),o(d)]))]),handler:n(()=>[N("div",F,[o(u,{onClick:y,label:"update",controller:v.value},null,8,["controller"]),o(u,{onClick:w,label:"delete",controller:b.value,overlayClass:"bg-slate-700"},null,8,["controller"])])]),_:1})]),_:1}))}});export{J as default};
